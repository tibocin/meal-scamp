import{s as G,n as M,r as Q}from"../chunks/scheduler.DYjCt7Qj.js";import{S as R,i as W,d as k,w as U,b as X,c as t,v as E,e as o,f as i,g as x,h as D,j as C,m as V,k as u,s as S,t as q}from"../chunks/index.DJsOjTB_.js";import{a as F}from"../chunks/stores.D1Gm6O95.js";function Y(c){let e,l,a="Settings",T,d,y,p,g,n,K,h,L,m,_,N,w,f,b,z="Save",A,v,H="Send Test",B,J;return{c(){e=u("div"),l=u("h1"),l.textContent=a,T=S(),d=u("label"),y=q("User Key "),p=u("input"),g=S(),n=u("label"),K=q("App Token "),h=u("input"),L=S(),m=u("label"),_=u("input"),N=q(" Enable Pushover reminders"),w=S(),f=u("div"),b=u("button"),b.textContent=z,A=S(),v=u("button"),v.textContent=H,this.h()},l(r){e=i(r,"DIV",{class:!0});var s=x(e);l=i(s,"H1",{class:!0,"data-svelte-h":!0}),D(l)!=="svelte-kpd131"&&(l.textContent=a),T=C(s),d=i(s,"LABEL",{class:!0});var I=x(d);y=V(I,"User Key "),p=i(I,"INPUT",{class:!0}),I.forEach(k),g=C(s),n=i(s,"LABEL",{class:!0});var O=x(n);K=V(O,"App Token "),h=i(O,"INPUT",{class:!0}),O.forEach(k),L=C(s),m=i(s,"LABEL",{class:!0});var j=x(m);_=i(j,"INPUT",{type:!0}),N=V(j," Enable Pushover reminders"),j.forEach(k),w=C(s),f=i(s,"DIV",{class:!0});var P=x(f);b=i(P,"BUTTON",{class:!0,"data-svelte-h":!0}),D(b)!=="svelte-1ux5npz"&&(b.textContent=z),A=C(P),v=i(P,"BUTTON",{class:!0,"data-svelte-h":!0}),D(v)!=="svelte-1rn6ai2"&&(v.textContent=H),P.forEach(k),s.forEach(k),this.h()},h(){o(l,"class","text-xl font-semibold"),o(p,"class","border p-1 w-full"),o(d,"class","block"),o(h,"class","border p-1 w-full"),o(n,"class","block"),o(_,"type","checkbox"),o(m,"class","block"),o(b,"class","btn"),o(v,"class","btn-outline"),o(f,"class","flex gap-2 mt-2"),o(e,"class","max-w-3xl mx-auto p-4 card space-y-2")},m(r,s){X(r,e,s),t(e,l),t(e,T),t(e,d),t(d,y),t(d,p),U(p,c[0].userKey),t(e,g),t(e,n),t(n,K),t(n,h),U(h,c[0].appToken),t(e,L),t(e,m),t(m,_),_.checked=c[0].enabled,t(m,N),t(e,w),t(e,f),t(f,b),t(f,A),t(f,v),B||(J=[E(p,"input",c[3]),E(h,"input",c[4]),E(_,"change",c[5]),E(b,"click",c[1]),E(v,"click",c[2])],B=!0)},p(r,[s]){s&1&&p.value!==r[0].userKey&&U(p,r[0].userKey),s&1&&h.value!==r[0].appToken&&U(h,r[0].appToken),s&1&&(_.checked=r[0].enabled)},i:M,o:M,d(r){r&&k(e),B=!1,Q(J)}}}function Z(c,e,l){let a;F.subscribe(n=>l(0,a=n));function T(){F.set(a),alert("Saved")}async function d(){if(!a.enabled){alert("Enable first");return}const n=await fetch("/api/pushover",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:"Meal Scamp",message:"Test from settings"})});alert("Status: "+n.status)}function y(){a.userKey=this.value,l(0,a)}function p(){a.appToken=this.value,l(0,a)}function g(){a.enabled=this.checked,l(0,a)}return[a,T,d,y,p,g]}class se extends R{constructor(e){super(),W(this,e,Z,Y,G,{})}}export{se as component};
